<app-employee-sidebar title="Efetuar Manutenção"></app-employee-sidebar>

<div class="container-view-service">

  <div *ngIf="request" class="details-container p-5 py-4 d-flex flex-column">
    <h2>Detalhes da Solicitação - {{ request.id }}</h2>
    <div class="details-infos d-flex flex-column gap-3 mt-4">
      <div class="row">
        <div class="details-item col-4 d-flex gap-3">
          <p class="">Cliente:</p>
          <span>{{ request.userName }}</span>
        </div>
        <div class="details-item col-4 d-flex gap-3">
          <p>Data / Hora da Solicitação</p>
          <span> {{ request.date }}</span>
        </div>
      </div>
      <div class="row">
        <div class="details-item col-4 d-flex gap-3">
          <p class="">Descrição do Equipamento:</p>
          <span>{{ request.description }}</span>
        </div>
        <div class="details-item col d-flex gap-3">
          <p>Estado Atual:</p>
          <span class="estado aprovada"> {{ request.status }}</span>
        </div>
      </div>
      <div class="row">
        <div class="details-item col d-flex gap-3">
          <p>Categoria do equipamento:</p>
          <span>Notebook</span>
        </div>
      </div>
      <div class="row">
        <div class="details-item col d-flex gap-3">
          <p>Descrição do Defeito:</p>
          <span>Notebook não está ligando</span>
        </div>
      </div>
    </div>
  </div>
  <div class="make-budget-container p-5 py-4">
    <h2>Manutenção</h2>
    <div class="make-budget-inputs row d-flex gap-5 col-md-12">
        <button class="col-3 btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal" >Efetuar Manutenção</button>
        <button class="col-3 btn btn-info" data-bs-toggle="modal" data-bs-target="#redirectModal"style="color: white;">Redirecionar Manutenção</button>
    </div>

    <div class="row col-md-10" style="position: absolute; bottom: 20px;">
      <button class="col-1 btn btn-secondary" (click)="returnHome()">Voltar</button>
    </div>
  </div>
</div>



<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">EFETUAR MANUTENÇÃO</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="text_desc">
          <p>Descrição da Manutenção:</p>
          <input type="text" class="input_" placeholder="Escreva uma descrição para a manutenção realizada."/>
        </div>

        <div class="text_desc mt-4">
          <p>Orientação para o cliente:</p>
          <input type="text" class="input_" placeholder="Escreva uma orientação para o  cliente"/>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary me-4 " data-bs-dismiss="modal">CANCELAR</button>
        <button type="button" class="btn btn-success me-3">CONFIRMAR</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="redirectModal" tabindex="-1" aria-labelledby="redirectModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="redirectModalLabel">REDIRECIONAR MANUTENÇÃO</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="text_desc">
          <p>Redirecionar para:</p>
          <select name="categoria" id= "redirectSelect" class="form-control" required [(ngModel)]="redirectTarget" size="1">
            <option *ngFor="let name of employees">{{name}}</option>
        </select>
      </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary me-4 " data-bs-dismiss="modal">CANCELAR</button>
        <button type="button"  (click)="redirectRequest()" data-bs-dismiss="modal" class="btn btn-success me-3">CONFIRMAR</button>
      </div>
    </div>
  </div>
</div>



